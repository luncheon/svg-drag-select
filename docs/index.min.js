var svgDragSelect=function(){"use strict"
var y
try{var e=Object.defineProperty({},"passive",{get:function(){y={passive:!1}}}),t=function(){}
addEventListener("t",t,e),removeEventListener("t",t,e)}catch(e){}function E(e,t){var n=e.getCTM(),r=e.getScreenCTM().inverse(),i=n?n.multiply(r):r,o=e.createSVGPoint()
o.x=t.left,o.y=t.top
var c=o.matrixTransform(i),s=c.x,l=c.y
o.x+=t.width,o.y+=t.height
var a=o.matrixTransform(i),v=a.x,d=a.y,p=e.createSVGRect()
return p.x=Math.min(s,v),p.y=Math.min(l,d),p.width=Math.abs(s-v),p.height=Math.abs(l-d),p}return function(c){function s(e){var t=o+v-document.documentElement.scrollLeft-document.body.scrollLeft,n=a+d-document.documentElement.scrollTop-document.body.scrollTop,r=e.clientX,i=e.clientY
return new DOMRect(Math.min(t,r),Math.min(n,i),Math.abs(t-r),Math.abs(n-i))}var l,o,a,v,d,p=[],e=document.body.appendChild(document.createElement("div")),u=e.style
e.className="svg-drag-select-area-overlay",u.position="fixed",u.pointerEvents="none"
function r(e){if(e.pointerId===l){"pointermove"===e.type&&"touch"===e.pointerType&&e.preventDefault()
var t=s(e),n=E(this,t),r=c.referenceElement||null,i=Array.prototype.slice.apply(c.intersection?this.getIntersectionList(n,r):this.getEnclosureList(n,r))
if(u.left=t.x+"px",u.top=t.y+"px",u.width=t.width+"px",u.height=t.height+"px",p.length!==i.length||p.some(function(e){return-1===i.indexOf(e)})){var o=p
p=i,c.onSelectionChange&&c.onSelectionChange({svg:this,pointerEvent:e,clientRect:t,svgRect:n,selectedElements:p,previousSelectedElements:o})}}}function t(e){var t
e.isPrimary&&void 0===l&&(c.onSelectionStart&&c.onSelectionStart({svg:this,pointerEvent:e,cancel:function(){return t=!0}}),t||(l=e.pointerId,o=e.clientX,a=e.clientY,v=document.documentElement.scrollLeft+document.body.scrollLeft,d=document.documentElement.scrollTop+document.body.scrollTop,r.call(this,e),u.display="",this.addEventListener("pointermove",r,"touch"===e.pointerType?y:void 0),this.setPointerCapture(l)))}function n(e){if(e.pointerId===l){this.releasePointerCapture(l),this.removeEventListener("pointermove",r),l=void 0,u.display="none"
var t=s(e),n=E(this,t)
c.onSelectionEnd&&c.onSelectionEnd({svg:this,pointerEvent:e,clientRect:t,svgRect:n,selectedElements:p})}}var i=c.svg,m=i.getAttribute("draggable"),h=i.style.pointerEvents,g=i.style.touchAction
return i.style.pointerEvents="all",i.style.touchAction="pinch-zoom",i.setAttribute("draggable","false"),i.addEventListener("pointerdown",t),i.addEventListener("pointerup",n),i.addEventListener("pointercancel",n),{dragAreaOverlay:e,cancel:function(){null===m?i.removeAttribute("draggable"):i.setAttribute("draggable",m),i.style.pointerEvents=h,i.style.touchAction=g,i.removeEventListener("pointerdown",t),i.removeEventListener("pointerup",n),i.removeEventListener("pointermove",r),i.removeEventListener("pointercancel",n),e.parentElement&&e.parentElement.removeChild(e)}}}}()
