var svgDragSelect=function(){"use strict"
var l
try{var e=Object.defineProperty({},"passive",{get:function(){l={passive:!1}}}),t=function(){}
addEventListener("t",t,e),removeEventListener("t",t,e)}catch(e){}return function(y){var E,f,C=[],e=document.body.appendChild(document.createElement("div")),S=e.style
e.className="svg-drag-select-area-overlay",S.position="fixed",S.pointerEvents="none"
function i(e){if(f&&e.pointerId===E){"pointermove"===e.type&&"touch"===e.pointerType&&e.preventDefault()
var t=e.clientX,n=e.clientY
S.left=Math.min(f.x,t)+"px",S.top=Math.min(f.y,n)+"px",S.width=Math.abs(f.x-t)+"px",S.height=Math.abs(f.y-n)+"px"
var r=this.getCTM(),i=this.getScreenCTM().inverse(),o=r?r.multiply(i):i,a=f.matrixTransform(o),s=a.x,l=a.y,c=this.createSVGPoint()
c.x=t,c.y=n
var v=c.matrixTransform(o),p=v.x,d=v.y,u=this.createSVGRect()
u.x=Math.min(s,p),u.y=Math.min(l,d),u.width=Math.abs(s-p),u.height=Math.abs(l-d)
var h=y.referenceElement||null,g=Array.prototype.slice.apply(y.intersection?this.getIntersectionList(u,h):this.getEnclosureList(u,h))
if(C.length!==g.length||C.some(function(e){return-1===g.indexOf(e)})){var m=C
C=g,y.onSelectionChange&&y.onSelectionChange({svg:this,pointerEvent:e,dragStartClientX:f.x,dragStartClientY:f.y,currentClientX:t,currentClientY:n,selectedElements:C,previousSelectedElements:m})}}}function t(e){if(e.isPrimary&&void 0===E){var t,n=e.clientX,r=e.clientY
if(y.onSelectionStart&&y.onSelectionStart({svg:this,pointerEvent:e,dragStartClientX:n,dragStartClientY:r,currentClientX:n,currentClientY:r,cancel:function(){return t=!0}}),t)return
E=e.pointerId,(f=this.createSVGPoint()).x=n,f.y=r,i.call(this,e),S.display="",this.addEventListener("pointermove",i,"touch"===e.pointerType?l:void 0),this.setPointerCapture(e.pointerId)}}function n(e){if(e.pointerId===E&&(this.releasePointerCapture(E),this.removeEventListener("pointermove",i),E=void 0,S.display="none",f)){var t=f
f=void 0,y.onSelectionEnd&&y.onSelectionEnd({svg:this,pointerEvent:e,dragStartClientX:t.x,dragStartClientY:t.y,currentClientX:e.clientX,currentClientY:e.clientY,selectedElements:C})}}var r=y.svg,o=r.getAttribute("draggable"),a=r.style.pointerEvents,s=r.style.touchAction
return r.style.pointerEvents="all",r.style.touchAction="pinch-zoom",r.setAttribute("draggable","false"),r.addEventListener("pointerdown",t),r.addEventListener("pointerup",n),r.addEventListener("pointercancel",n),{dragAreaOverlay:e,cancel:function(){null===o?r.removeAttribute("draggable"):r.setAttribute("draggable",o),r.style.pointerEvents=a,r.style.touchAction=s,r.removeEventListener("pointerdown",t),r.removeEventListener("pointerup",n),r.removeEventListener("pointermove",i),r.removeEventListener("pointercancel",n),e.parentElement&&e.parentElement.removeChild(e)}}}}()
