var svgDragSelect=function(){"use strict"
var o
try{var e=Object.defineProperty({},"passive",{get:function(){o={passive:!0}}}),t=function(){}
addEventListener("t",t,e),removeEventListener("t",t,e)}catch(e){}return function(u){var m,g,e=u.svg,y=[],t=document.body.appendChild(document.createElement("div")),f=t.style
t.className=u.dragAreaOverlayClass||"svg-drag-select-area",f.position="fixed",f.pointerEvents="none"
function r(e){if(g&&e.pointerId===m){"touch"===e.pointerType&&e.preventDefault()
var t=e.clientX,n=e.clientY
f.left=Math.min(g.x,t)+"px",f.top=Math.min(g.y,n)+"px",f.width=Math.abs(g.x-t)+"px",f.height=Math.abs(g.y-n)+"px"
var i=this.getCTM().multiply(this.getScreenCTM().inverse()),r=g.matrixTransform(i),o=r.x,a=r.y,s=DOMPointReadOnly.fromPoint({x:t,y:n}).matrixTransform(i),l=s.x,c=s.y,v=this.createSVGRect()
v.x=Math.min(o,l),v.y=Math.min(a,c),v.width=Math.abs(o-l),v.height=Math.abs(a-c)
var d=u.referenceElement||null,p=Array.prototype.slice.apply(u.intersection?this.getIntersectionList(v,d):this.getEnclosureList(v,d))
if(y.length!==p.length||y.some(function(e){return-1===p.indexOf(e)})){var h=y
y=p,u.onSelectionChange&&u.onSelectionChange({svg:this,pointerEvent:e,dragStartClientX:g.x,dragStartClientY:g.y,currentClientX:t,currentClientY:n,selectedElements:y,previousSelectedElements:h})}}}function n(e){if(e.isPrimary&&void 0===m){var t,n=e.clientX,i=e.clientY
if(u.onSelectionStart&&u.onSelectionStart({svg:this,pointerEvent:e,dragStartClientX:n,dragStartClientY:i,currentClientX:n,currentClientY:i,cancel:function(){return t=!0}}),t)return
m=e.pointerId,g=DOMPointReadOnly.fromPoint({x:n,y:i}),r.call(this,e),f.display="",this.addEventListener("pointermove",r,"touch"===e.pointerType?o:void 0),this.setPointerCapture(e.pointerId)}}function i(e){if(e.pointerId===m&&(this.releasePointerCapture(m),this.removeEventListener("pointermove",r),m=void 0,f.display="none",g)){var t=g
g=void 0,u.onSelectionEnd&&u.onSelectionEnd({svg:this,pointerEvent:e,dragStartClientX:t.x,dragStartClientY:t.y,currentClientX:e.clientX,currentClientY:e.clientY,selectedElements:y})}}return e.addEventListener("pointerdown",n),e.addEventListener("pointerup",i),{dragAreaOverlay:t,cancel:function(){e.removeEventListener("pointerdown",n),e.removeEventListener("pointerup",i),e.removeEventListener("pointermove",r),t.parentElement&&t.parentElement.removeChild(t)}}}}()
